@import "./colors";
@import "./units";
@import "./typography";
@import "./input";


@mixin with-form() {
    position: relative;

    label {
        color: $mmf-color--secondary;
    }
}


/**
 * Default form styles, controlling label position by classnames. The Markup should look like
 *
 *  <my-form extends with-moving-label>
 *      <label>Moving Title</label>
 *      <input-type>
 *      ...
 * @param {string} input-type   - associated input selector
 */
@mixin with-moving-label($input-type:"input") {

    // move input down by label height
    @if $input-type == "textarea" {
        #{$input-type} {
            margin: $mmf-height-label 0 0 0;
        }
    } @else {
        #{$input-type} {
            padding: $mmf-height-label 0 0 0;
        }
    }

    label.mmf-label {
        // set label to top
        width: 100%;
        position: absolute;
        top: 0;
        display: inline-block;
        transition: all 0.2s ease-in-out;

        color: $mmf-color--hint;
        font-size: $mmf-text-size--label; // small font-size if not currently a placeholder (but title)
    }

    &.hasNoError {}
    &.isNotEmpty {}

    &.hasFocus {
        label.mmf-label {
            color: $mmf-color-primary;
        }
    }

    &.hasError {
        input {
            border-color: $mmf-color--error;
        }
    }

    &.hasError.hasFocus {
        label.mmf-label {
            color: $mmf-color--error;
        }
    }

    &.isEmpty.hasNoFocus {
        label.mmf-label {
            color: $mmf-color--secondary;
            transform: translateY($mmf-height-label);
            font-size: 1em;
        }
    }
}
