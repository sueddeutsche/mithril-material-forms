/*! For license information please see mmf.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mithril")):"function"==typeof define&&define.amd?define("MMF",["mithril"],t):"object"==typeof exports?exports.MMF=t(require("mithril")):e.MMF=t(e.m)}("undefined"!=typeof self?self:this,(function(e){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=8)}({0:function(t,o){t.exports=e},1:function(e,t,o){var n,s,r;s=[e,t],void 0===(r="function"==typeof(n=function(e,t){"use strict";var o,n,s="function"==typeof Map?new Map:(o=[],n=[],{has:function(e){return o.indexOf(e)>-1},get:function(e){return n[o.indexOf(e)]},set:function(e,t){-1===o.indexOf(e)&&(o.push(e),n.push(t))},delete:function(e){var t=o.indexOf(e);t>-1&&(o.splice(t,1),n.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!s.has(e)){var t,o=null,n=null,i=null,a=function(){e.clientWidth!==n&&c()},l=function(t){window.removeEventListener("resize",a,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach((function(o){e.style[o]=t[o]})),s.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",a,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",s.set(e,{destroy:l,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),o="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(o)&&(o=0),c()}function u(t){var o=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=o,e.style.overflowY=t}function d(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),s=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+o+"px",n=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),s&&(document.documentElement.scrollTop=s)}}function c(){d();var t=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),n="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(n<t?"hidden"===o.overflowY&&(u("scroll"),d(),n="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(u("hidden"),d(),n="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),i!==n){i=n;var s=r("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=s.get(e);t&&t.destroy()}function l(e){var t=s.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return i(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=u,e.exports=t.default})?n.apply(t,s):n)||(e.exports=r)},8:function(e,t,o){"use strict";o.r(t),o.d(t,"Button",(function(){return r})),o.d(t,"ButtonForm",(function(){return d})),o.d(t,"Checkbox",(function(){return c})),o.d(t,"CheckboxForm",(function(){return m})),o.d(t,"Errors",(function(){return a})),o.d(t,"getErrorClass",(function(){return i})),o.d(t,"ImagePreview",(function(){return y})),o.d(t,"Input",(function(){return w})),o.d(t,"InputForm",(function(){return $})),o.d(t,"Label",(function(){return l})),o.d(t,"QueryList",(function(){return C})),o.d(t,"QueryListForm",(function(){return E})),o.d(t,"RadioButtons",(function(){return P})),o.d(t,"RadioButtonsForm",(function(){return S})),o.d(t,"Select",(function(){return I})),o.d(t,"SelectForm",(function(){return R})),o.d(t,"Switch",(function(){return T})),o.d(t,"SwitchForm",(function(){return A})),o.d(t,"Textarea",(function(){return U})),o.d(t,"TextareaForm",(function(){return W}));var n=o(0),s=o.n(n);var r={getClassNames(e){var t;const o=["mmf-button",null!==(t=e.theme)&&void 0!==t?t:"the-default",e.raised?"mmf-button--raised":"mmf-button--flat",e.disabled?"is-disabled":"is-enabled"];return e.class&&o.push(e.class),o.join(" ")},view(e){const t=Object.assign(Object.assign({},e.attrs),{theme:void 0,class:this.getClassNames(e.attrs)});return s()("button",t,e.children)}};function i(e){if(null==e||0===e.length)return"no-error";for(let o=0,n=e.length;o<n;o+=1){const n=e[o];if("string"==typeof(t=n).tag&&null!=t.attrs&&"object"==typeof t.attrs||"string"==typeof n)return"has-error";if(n&&"warning"!==n.severity)return"has-error"}var t;return"has-warning"}var a={view(e){const{errors:t}=e.attrs;return null==t||0===t.length?"":s()("ul.mmf-form__errors",t.map(e=>{return"string"==typeof(t=e).tag&&null!=t.attrs&&"object"==typeof t.attrs?s()("li.mmf-form__error.mmf-form__error--"+e.attrs.severity,e):function(e){return e&&e.message}(e)?"warning"===e.severity?s()("li.mmf-form__error.mmf-form__error--warning",s.a.trust(e.message)):s()("li.mmf-form__error.mmf-form__error--error",s.a.trust(e.message)):s()("li.mmf-form__error.mmf-form__error--error",s.a.trust(e));var t}))}},l={view(e){const{invertOrder:t,title:o,class:n}=e.attrs;return!0===t?s()("label.order--label-last",{class:n},e.children,o&&s()("span.mmf-label",o)):s()("label.order--label-first",{class:n},o&&s()("span.mmf-label",o),e.children)}};const u={theme:"the-default",errors:[],description:""};var d={view(e){const t=Object.assign(Object.assign({},u),e.attrs);return s()(".mmf-form.mmf-form--button.is-"+(t.disabled?"disabled":"enabled"),{class:`${i(t.errors)} ${t.theme}`},s()(l,Object.assign({},t)),s()(r,Object.assign({},t),e.children),s()(a,t),t.description&&s()(".mmf-meta",t.description))}},c={view:({attrs:e})=>s()("input.mmf-checkbox",{"data-id":e.id,type:"checkbox",class:e.theme||"the-default",disabled:!0===e.disabled,checked:e.value,onchange:t=>e.onchange(t.target.checked),onfocus:e.onfocus,onblur:e.onblur})};const h={id:null,title:"",disabled:!1,theme:"the-default",value:"",errors:[],description:"",placeholder:"",onchange:Function.prototype};var m={view(e){const t=Object.assign(Object.assign({},h),e.attrs);return s()(".mmf-form.mmf-form--checkbox.is-"+(t.disabled?"disabled":"enabled"),{class:`${i(t.errors)} ${t.theme}`},s()(l,Object.assign(Object.assign({},t),{invertOrder:!0!==t.invertOrder}),s()(c,{id:e.attrs.id,disabled:t.disabled,theme:t.theme,value:e.attrs.value,onchange:e.attrs.onchange,onfocus:e.attrs.onfocus,onblur:e.attrs.onblur})),s()(a,t),t.description&&s()(".mmf-meta",t.description),e.children)}};function f(e){return null==e||""===e}const p=[16,9];function v(e){let t=e.split(":").map(parseFloat);return t=2===t.length?t:p,100*t[1]/t[0]}const b={view(e){const{attrs:t}=e;return[f(t.url)?s()(".mmf-preview__placeholder",t.placeholder):[t.description&&s()(".mmf-preview__description",s.a.trust(t.description)),s()(".mmf-preview__overflow-indicator")],e.children]}},g={view(e){const{attrs:t}=e;return s()(".mmf-preview__content",{style:!f(t.url)&&(o=t.maxRatio,`padding-bottom: ${v(o).toFixed(2)}%;`),oncreate:t.oncreate},f(t.url)?s()(".mmf-preview__placeholder",t.placeholder):[s()("img",{src:t.url,onload:t.onload}),t.description&&s()(".mmf-preview__description",s.a.trust(t.description)),s()(".mmf-preview__overflow-indicator")],e.children);var o}};var y={updateRatio(e,t){if(null!=this.overflowContainer&&t.naturalWidth){const o=v(e),n=v(`${t.naturalWidth}:${t.naturalHeight}`);o>=n?(this.overflowContainer.style.paddingBottom=n.toFixed(2)+"%",this.overflowContainer.classList.remove("with-overflow"),this.hasOverflow=!1):(this.overflowContainer.style.paddingBottom=o.toFixed(2)+"%",this.overflowContainer.classList.add("with-overflow"),this.hasOverflow=!0)}},view(e){const t=Object.assign({url:null,class:"",asBackgroundImage:!1,description:null,placeholder:null,onclick:null,maxRatio:"16:9",onload:t=>this.updateRatio(e.attrs.maxRatio,t.currentTarget),oncreate:e=>{this.overflowContainer=e.dom}},e.attrs);return s()(".mmf-preview.mmf-preview--image",{class:t.class+(f(t.url)?"":" with-image"),style:t.asBackgroundImage&&!f(t.url)&&`background-image: url(${t.url});`},t.asBackgroundImage?s()(b,t,e.children):s()(g,t,e.children))}},w={value:null,hasFocus:!1,view({attrs:e}){var t,o,n;let{value:r}=e;this.hasFocus&&null!=this.value&&(r=this.value),this.value=r;const i={"data-id":e.id,class:`${null!==(t=e.theme)&&void 0!==t?t:"the-default"} ${null!==(o=e.class)&&void 0!==o?o:""}`,disabled:e.disabled,placeholder:e.placeholder,type:null!==(n=e.type)&&void 0!==n?n:"text",value:r,oninput:e=>this.value=e.target.value,onfocus:t=>{this.hasFocus=!0,e.onfocus&&e.onfocus(t)},onblur:t=>{this.hasFocus=!1,e.onblur&&e.onblur(t)}};return i[!0===e.instantUpdate?"onkeyup":"onchange"]=()=>e.onchange(this.value),s()("input.mmf-input",i)}};const x={string:"text",integer:"number",number:"number"};var $={oncreate(e){this.$form=e.dom},updateClasses(e){const t=""!==e;this.$form.classList.remove(t?"is-empty":"not-empty"),this.$form.classList.add(!1===t?"is-empty":"not-empty")},onfocus(){this.$form.classList.add("has-focus"),this.$form.classList.remove("no-focus")},onblur(e){this.$form.classList.add("no-focus"),this.$form.classList.remove("has-focus"),this.updateClasses(e)},hasFocus(){return this.$form&&this.$form.classList.contains("has-focus")},view(e){var t;const o=x[e.attrs.type]||e.attrs.type||"text",n=Object.assign({id:null,title:"",value:"",errors:[],description:"",placeholder:"",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),r=this.hasFocus()?"has-focus":"no-focus",u=i(n.errors),d=""===n.value?"is-empty":"not-empty";return s()(".mmf-form.mmf-form--input.is-"+(n.disabled?"disabled":"enabled"),{class:`${r} ${u} ${d} ${null!==(t=n.theme)&&void 0!==t?t:"the-default"}`},s()(l,n,s()(w,{type:o,id:n.id,disabled:n.disabled,theme:n.theme,instantUpdate:n.instantUpdate,placeholder:n.placeholder,onchange:e=>n.onchange(function(e,t){if("number"===e){const e=parseInt(t),o=parseFloat(t);return o==t?o:isNaN(e)?t:e}return t}(o,e)),value:n.value,onfocus:e=>{this.onfocus(),n.onfocus&&n.onfocus(e)},onblur:e=>{this.onblur(e.target.value),n.onblur&&n.onblur(e)}})),s()(a,n),n.description&&s()(".mmf-meta",n.description),e.children)}};var O=function e(t,o,n=document.body){if(t!==n)return t.classList.contains(o)?t:e(t.parentNode,o,n)};var F={view({attrs:e}){var t;const{items:o,valueProp:n="value",selectedIndex:r,onSelect:i,onHover:a,displayRenderer:l}=e;return 0===o.length||1===o.length&&""===o[0][n]?s.a.fragment({},""):s()("ul.mmf-list",{class:null!==(t=e.theme)&&void 0!==t?t:"the-default",onmousedown:i?e=>{const t=O(e.target,"mmf-list__item");if(!t)return;const s=o.findIndex(e=>e[n]===t.dataset.value);s>=0&&i(s)}:null},o.map((t,i)=>s()("li.mmf-list__item",{"data-value":t[n],class:`${t.class?t.class:""} ${i===r?"is-selected":""}`,onmouseenter:a?e=>{const t=e.target,s=o.findIndex(e=>e[n]===t.dataset.value);s>=0&&a(s)}:null},l(t,e))))}};var L={oncreate(e){e.attrs.onmount(e.state)},onremove(){const e=document.body;e.contains(this.dom)&&(s.a.render(this.dom,null),e.removeChild(this.dom))},hide(){this.dom.classList.add("is-hidden"),this.dom.classList.remove("is-visible")},render(e){s.a.render(this.dom,e)},show(e){this.dom.classList.add("is-visible"),this.dom.classList.remove("is-hidden");const t=e.getBoundingClientRect();this.dom.style.setProperty("--target-width",t.width+"px"),this.placeBelow(e,t)},placeAbove(e,t=e.getBoundingClientRect()){if(e.offsetParent===document.body){const e=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.scrollLeft||document.body.scrollLeft;return this.dom.style.top="unset",this.dom.style.left=t.left+o+"px",void(this.dom.style.bottom=document.body.scrollHeight-e-t.bottom+t.height+"px")}const o=e.offsetParent.getBoundingClientRect();this.dom.style.top="unset",this.dom.style.left=t.left-o.left+"px",this.dom.style.bottom=o.bottom-t.bottom+t.height+"px"},placeBelow(e,t=e.getBoundingClientRect()){if(e.offsetParent===document.body){const e=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.scrollLeft||document.body.scrollLeft;return this.dom.style.left=t.left+o+"px",void(this.dom.style.top=t.top+e+t.height+"px")}const o=e.offsetParent.getBoundingClientRect();this.dom.style.left=t.left-o.left+"px",this.dom.style.top=t.top-o.top+t.height+"px"},view(e){var t,o;return s()(".mmf-popover.is-hidden",Object.assign(Object.assign({},e.attrs),{class:`${null!==(t=e.attrs.theme)&&void 0!==t?t:"the-default"} ${null!==(o=e.attrs.class)&&void 0!==o?o:""}`.trim(),oncreate:({dom:e})=>this.dom=e}),e.children)}};var j=function(e,t,o,n){return new(o||(o=Promise))((function(s,r){function i(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const _=window.requestAnimationFrame;var C={hasFocus:!1,currentIndex:0,showCurrentInput:!1,valueProp:"value",displayRenderer:function(e,t){return s()("span",e[t.valueProp])},resizeTimer:null,updateFilter(){return j(this,void 0,void 0,(function*(){this.list=yield this.getSuggestions(this.value),this.showCurrentInput&&this.list.unshift({[this.valueProp]:this.value,class:"is-value"}),this.updateCompletions()}))},oncreate({attrs:e}){const{suggestions:t}=e;(e=>Array.isArray(e))(t)?this.getSuggestions=o=>function(e,t,o=12,n="value"){const s=[],r=t.toLowerCase();if(""===t)return Promise.resolve(s);function i(e,t){const o=e[n].toLowerCase().indexOf(r),s=t[n].toLowerCase().indexOf(r);return o===s?e[n].length-t[n].length:o-s}const a=new RegExp("^"+t.replace(" ",".*"),"i");for(let t=0,r=e.length;t<r&&!(a.test(e[t][n])&&(s.push(e[t]),s.length>=o));t+=1);const l=new RegExp(t.replace(" ",".*"),"i");if(s.length>=o)return Promise.resolve(s.sort(i));for(let t=0,r=e.length;t<r&&!(l.test(e[t][n])&&-1===s.indexOf(e[t])&&(s.push(e[t]),s.length>=o));t+=1);return Promise.resolve(s.sort(i))}(t,o,10,e.searchProp||this.valueProp):(e=>"function"==typeof e)(t)?this.getSuggestions=t:this.getSuggestions=()=>Promise.resolve([])},updateCompletions(){this.currentIndex=this.currentIndex<0?0:Math.min(this.list.length-1,this.currentIndex),this.popover.render(s()(F,{items:this.list,theme:this.theme,valueProp:this.valueProp,selectedIndex:this.currentIndex,displayRenderer:this.displayRenderer,onSelect:e=>{const t=this.list[e][this.valueProp];this.value=t,this.input.value=t},onHover:e=>{this.currentIndex=e,this.updateCompletions()}}))},updateSelection(e){const{key:t}=e;if("ArrowUp"===t)e.stopPropagation(),e.preventDefault(),this.currentIndex>0&&(this.currentIndex-=1,this.updateCompletions());else if("ArrowDown"===t)e.stopPropagation(),e.preventDefault(),this.currentIndex<this.list.length-1&&(this.currentIndex+=1,this.updateCompletions());else if("Enter"===t){const e=this.list[this.currentIndex][this.valueProp];this.value=e,this.input.value=e,this.input.blur()}},view({attrs:e}){var t;let{value:o}=e;this.hasFocus&&null!=this.value&&(o=this.value),this.value=o;const{valueProp:n,displayRenderer:r,showCurrentInput:i,theme:a}=e;this.valueProp=null!=n?n:this.valueProp,this.displayRenderer=null!=r?r:this.displayRenderer,this.showCurrentInput=!0===i,this.theme=null!=a?a:"the-default";const l={"data-id":e.id,class:`${this.theme} ${null!==(t=e.class)&&void 0!==t?t:""}`,disabled:e.disabled,placeholder:e.placeholder,type:"text",value:o,oncreate:({dom:e})=>this.input=e,oninput:e=>this.value=e.target.value,onfocus:t=>j(this,void 0,void 0,(function*(){var o;this.hasFocus=!0,e.onfocus&&e.onfocus(t),yield this.updateFilter(),null===(o=this.popover)||void 0===o||o.show(this.input)})),onblur:t=>{this.hasFocus=!1,e.onblur&&e.onblur(t),_(()=>{var e;return null===(e=this.popover)||void 0===e?void 0:e.hide()})},onkeydown:e=>this.updateSelection(e),onchange:()=>e.onchange(this.value),onkeyup:t=>j(this,void 0,void 0,(function*(){yield this.updateFilter();e.instantUpdate&&!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","Enter"].includes(t.key)&&e.onchange(this.value)}))};return[s()("input.mmf-input",l),s()(L,{onmount:e=>this.popover=e,theme:e.theme})]}},E={oncreate(e){this.$form=e.dom},updateClasses(e){const t=""!==e;this.$form.classList.remove(t?"is-empty":"not-empty"),this.$form.classList.add(!1===t?"is-empty":"not-empty")},onfocus(){this.$form.classList.add("has-focus"),this.$form.classList.remove("no-focus")},onblur(e){this.$form.classList.add("no-focus"),this.$form.classList.remove("has-focus"),this.updateClasses(e)},hasFocus(){return this.$form&&this.$form.classList.contains("has-focus")},view(e){var t;const o=Object.assign({id:null,value:"",errors:[],invertOrder:!1,description:"",onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),n=this.hasFocus()?"has-focus":"no-focus",r=i(o.errors),u=""===o.value?"is-empty":"not-empty";return s()(".mmf-form.mmf-form--query-list.is-"+(o.disabled?"disabled":"enabled"),{class:`${n} ${r} ${u} ${null!==(t=o.theme)&&void 0!==t?t:"the-default"}`},s()(l,Object.assign(Object.assign({},o),{invertOrder:o.invertOrder}),s()(C,Object.assign(Object.assign({},o),{onfocus:e=>{this.onfocus(),o.onfocus&&o.onfocus(e)},onblur:e=>{this.onblur(e.target.value),o.onblur&&o.onblur(e)}}))),s()(a,o),o.description&&s()(".mmf-meta",o.description),e.children)}},P={oncreate(e){this.buttons=Array.from(e.dom.querySelectorAll("button")).map(e=>({value:e.value,dom:e}))},view(e){const{value:t,options:o,disabled:n,theme:i}=e.attrs;return s()(".mmf-radio-btn-container",{disabled:n,class:i||"",oncreate:e=>this.$container=e.dom},o.map(o=>{const a=o.icon?s()("span.mmf-icon",{value:o.value},o.icon):void 0,l=s()("span",{class:"mmf-radio-label"},o.title||o.value),u={theme:i,disabled:n||(o.disabled||!1),title:o.title||o.value,class:(o.value===t?"selected":"")+" mmf-radio-btn",value:o.value,onclick:()=>{n||o.disabled||(this.buttons.forEach(e=>e.dom.classList.toggle("selected",e.value===o.value)),e.attrs.onchange(o.value))}};return s()(r,u,a,l)}))}};const k={theme:"the-default",errors:[],description:""};var S={view(e){const t=Object.assign(Object.assign({},k),e.attrs);return s()(".mmf-form.mmf-form--radio-buttons.is-"+(t.disabled?"disabled":"enabled"),{class:`${i(t.errors)} ${t.theme}`},s()(l,Object.assign({},t)),s()(P,Object.assign({},t)),s()(a,t),t.description&&s()(".mmf-meta",t.description),e.children)}};var I={view(e){const{attrs:t}=e,{theme:o="the-default"}=e.attrs,n=(e=>e.map(e=>"string"==typeof e?{value:e}:e))(t.options),r=n.find(e=>e.value===t.value),i=!0===t.disabled?"is-disabled":"is-enabled";return s()(".mmf-select__wrapper",{class:`${o} ${i} ${(null==r?void 0:r.color)?"with-color":""}`,oncreate:e=>this.$wrapper=e.dom},s()("span.select-icon",{style:"background-color: "+(null==r?void 0:r.color),oncreate:e=>this.$icon=e.dom}),s()("select.mmf-select",{"data-id":t.id,value:t.value,disabled:t.disabled,class:t.class,onfocus:()=>{this.$wrapper&&this.$wrapper.classList.add("has-focus"),t.onfocus&&t.onfocus(e)},onblur:()=>{this.$wrapper&&this.$wrapper.classList.remove("has-focus"),t.onblur&&t.onblur(e)},onchange:e=>{const o=null==n?void 0:n.find(t=>t.value===e.target.value);this.$wrapper.classList.toggle("with-color",null!=(null==o?void 0:o.color)),this.$icon.style.setProperty("background-color",null==o?void 0:o.color),t.onchange&&t.onchange(e.target.value)}},t.options.map(e=>(e=>e&&void 0!==e.value)(e)?s()("option",{value:""+e.value},e.title||e.value):s()("option",{value:""+e},e))))}},R={view(e){var t;const o=Object.assign({id:null,value:"",options:[{title:"-",value:!1}],errors:[],invertOrder:!1,description:""},e.attrs);return s()(".mmf-form.mmf-form--select.is-"+(o.disabled?"disabled":"enabled"),{class:`${null!==(t=o.theme)&&void 0!==t?t:"the-default"} ${i(o.errors)}`},s()(l,Object.assign(Object.assign({class:"mmf-grow-2"},o),{invertOrder:o.invertOrder}),s()(I,o)),s()(a,o),o.description&&s()(".mmf-meta",o.description),e.children)}},T={view:({attrs:e})=>s()("input.mmf-switch",{"data-id":e.id,type:"checkbox",class:e.theme||"the-default",disabled:!0===e.disabled,checked:e.value,onchange:t=>e.onchange(t.target.checked),onfocus:e.onfocus,onblur:e.onblur})};const z={id:null,title:"",disabled:!1,theme:"the-default",value:"",errors:[],description:"",onchange:Function.prototype};var A={view(e){const t=Object.assign(Object.assign({},z),e.attrs);return s()(".mmf-form.mmf-form--switch.is-"+(t.disabled?"disabled":"enabled"),{class:`${i(t.errors)} ${t.theme}`},s()(l,Object.assign(Object.assign({},t),{invertOrder:!0!==t.invertOrder}),s()(T,{id:e.attrs.id,disabled:t.disabled,theme:t.theme,value:e.attrs.value,onchange:e.attrs.onchange,onfocus:e.attrs.onfocus,onblur:e.attrs.onblur})),s()(a,t),t.description&&s()(".mmf-meta",t.description),e.children)}},B=o(1),M=o.n(B);const N=window.requestAnimationFrame;var U={boolean:!1,onupdate(e){N(()=>M.a.update(e.dom))},view(e){var t,o,n,r,i;const{attrs:a}=e;this.focus&&(a.value=this.textarea.value);const l={"data-id":a.id,value:null!==(t=a.value)&&void 0!==t?t:"",class:`${null!==(o=a.theme)&&void 0!==o?o:"the-default"} ${null!==(n=a.class)&&void 0!==n?n:""}`,rows:null!==(r=a.rows)&&void 0!==r?r:1,disabled:!0===a.disabled,instantUpdate:!0===a.instantUpdate,placeholder:null!==(i=a.placeholder)&&void 0!==i?i:"",onblur:e=>{this.focus=!1,a.onblur&&a.onblur(e)},onfocus:e=>{this.focus=!0,a.onfocus&&a.onfocus(e)},onupdate:e=>M.a.update(e.dom),oncreate:e=>{this.textarea=e.dom,a.oncreate&&a.oncreate(e),M()(e.dom),M.a.update(e.dom)},onbeforeremove:e=>{a.onbeforeremove(e),M.a.destroy(e.dom)}};return l[!0===l.instantUpdate?"onkeyup":"onchange"]=e=>a.onchange(e.target.value),s()("textarea.mmf-textarea",l)}},W={oncreate(e){this.$form=e.dom,this.onblur(e.attrs.value)},onfocus(){this.$form.classList.remove("no-focus"),this.$form.classList.add("has-focus")},onblur(e){this.$form.classList.remove("has-focus"),this.$form.classList.add("no-focus"),this.updateClasses(e)},updateClasses(e){const t=!1===f(e);this.$form.classList.remove(t?"is-empty":"not-empty"),this.$form.classList.add(!1===t?"is-empty":"not-empty")},onupdate(e){this.updateClasses(e.attrs.value)},view(e){const t=Object.assign({id:null,title:"",value:"",errors:[],disabled:!1,description:"",placeholder:"",rows:1,theme:"the-default",instantUpdate:!1,onblur:Function.prototype,onfocus:Function.prototype,onchange:Function.prototype},e.attrs),o=!0===t.disabled;return s()(".mmf-form.mmf-form--textarea.is-"+(o?"disabled":"enabled"),{class:`${t.theme} ${i(t.errors)}`},s()(l,t,s()(U,{id:t.id,value:t.value,disabled:o,theme:t.theme,instantUpdate:t.instantUpdate,placeholder:t.placeholder,rows:t.rows,onchange:t.onchange,onblur:e=>{this.onblur(e.target.value),t.onblur(e)},onfocus:e=>{this.onfocus(),t.onfocus(e)}})),s()(a,t),t.description&&s()(".mmf-meta",t.description),e.children)}}}})}));